{"version":3,"file":"wampy.js","names":["jsonSerializer","JsonSerializer","Wampy","url","options","version","_url","_protocols","_wamp_features","agent","roles","publisher","features","subscriber_blackwhite_listing","publisher_exclusion","publisher_identification","payload_passthru_mode","subscriber","pattern_based_subscription","publication_trustlevels","caller","caller_identification","progressive_call_results","call_canceling","call_timeout","callee","call_trustlevels","pattern_based_registration","shared_registration","_cache","sessionId","reqId","server_wamp_features","isSayingGoodbye","opStatus","code","error","timer","reconnectingAttempts","connectPromise","closePromise","_ws","_wsQueue","_requests","_calls","_subscriptions","_subsTopics","Set","_rpcRegs","_rpcNames","_options","debug","logger","autoReconnect","reconnectInterval","maxRetries","realm","helloCustomDetails","uriValidation","authid","authmethods","authextra","authPlugins","authMode","onChallenge","onClose","onError","onReconnect","onReconnectSuccess","ws","additionalHeaders","wsRequestOptions","serializer","payloadSerializers","json","_isPlainObject","_merge","args","console","log","obj","l","length","i","attr","Array","isArray","_isObject","ctor","constructor","prot","prototype","Object","hasOwnProperty","call","toString","unshift","protocol","err","topicType","role","Errors","NoDealerError","NoBrokerError","_fillOpStatusByError","_validateURI","topic","patternBased","allowWAMP","UriError","feature","_checkRouterFeature","PPTNotSupportedError","ppt_scheme","search","PPTInvalidSchemeError","E2EE_SERIALIZERS","includes","ppt_serializer","PPTSerializerInvalidError","uri","reBase","rePattern","re","test","indexOf","payload","payloadItems","argsList","argsDict","_isArray","binPayload","pptPayload","kwargs","pptSerializer","encode","e","PPTSerializationError","push","_checkPPTOptions","decode","decodedPayload","msg","_hardClose","errorUri","details","_log","_send","WAMP_MSG_SPEC","ABORT","message","ProtocolViolationError","close","_encode","readyState","send","shift","SUCCESS","onopen","_wsOnOpen","onclose","event","_wsOnClose","onmessage","_wsOnMessage","onerror","_wsOnError","serverProtocol","split","NoSerializerAvailableError","isBinary","binaryType","HELLO","setTimeout","_wsReconnect","onSuccess","_resetState","_decode","data","self","WELCOME","CHALLENGE","GOODBYE","ERROR","SUBSCRIBED","UNSUBSCRIBED","PUBLISHED","EVENT","RESULT","REGISTERED","UNREGISTERED","INVOCATION","_renewSubscriptions","_renewRegistrations","AbortError","p","Promise","resolve","reject","NoCRACallbackOrIdError","key","AUTHENTICATE","ChallengeExceptionError","errData","SUBSCRIBE","UNSUBSCRIBE","PUBLISH","REGISTER","UNREGISTER","CALL","callbacks","SubscribeError","UnsubscribeError","PublishError","RegisterError","UnregisterError","CallError","id","onEvent","advancedOptions","add","requestId","subscriptionId","has","publicationId","_unpackPPTPayload","progress","onProgress","rpc","registrationId","invoke_error_handler","invoke_result_handler","results","YIELD","pptScheme","ppt_cipher","ppt_keyid","res","_packPPTPayload","concat","result_handler","error_handler","WAMP_ERROR_MSG","NON_EXIST_RPC_INVOCATION","WebsocketError","getWebSocket","_initWsCallbacks","subs","st","subscribe","rpcs","rn","rpcName","register","opts","authOpts","keys","_setWsProtocols","NoWsOrUrlError","NoRealmError","defer","getNewPromise","promise","topicURI","match","InvalidParamError","_preReqChecks","NoCallbackError","_getReqId","splice","NonExistUnsubscribeError","acknowledge","_optionsConvertHelper","option","sourceType","exclude_me","disclose_me","progress_callback","receive_progress","timeout","NonExistRPCReqIdError","mode","CANCEL","invoke","RPCAlreadyRegisteredError","NonExistRPCUnregistrationError"],"sources":["../src/wampy.js"],"sourcesContent":["/**\n * Project: wampy.js\n *\n * https://github.com/KSDaemon/wampy.js\n *\n * A lightweight client-side implementation of\n * WAMP (The WebSocket Application Messaging Protocol v2)\n * http://wamp.ws\n *\n * Provides asynchronous RPC/PubSub over WebSocket.\n *\n * Copyright 2014 KSDaemon. Licensed under the MIT License.\n * See @license text at http://www.opensource.org/licenses/mit-license.php\n *\n */\n\nimport { WAMP_MSG_SPEC, WAMP_ERROR_MSG, E2EE_SERIALIZERS, SUCCESS } from './constants.js';\nimport * as Errors from './errors.js';\nimport { getWebSocket, getNewPromise } from './utils.js';\nimport { JsonSerializer } from './serializers/JsonSerializer.js';\nconst jsonSerializer = new JsonSerializer();\n\n/**\n * WAMP Client Class\n */\nclass Wampy {\n\n    /**\n     * Wampy constructor\n     * @param {string} [url]\n     * @param {Object} [options]\n     */\n    constructor (url, options) {\n\n        /**\n         * Wampy version\n         * @type {string}\n         * @private\n         */\n        this.version = 'v7.0.0-rc5';\n\n        /**\n         * WS Url\n         * @type {string}\n         * @private\n         */\n        this._url = (typeof url === 'string') ? url : null;\n\n        /**\n         * WS protocols\n         * @type {Array}\n         * @private\n         */\n        this._protocols = ['wamp.2.json'];\n\n        /**\n         * WAMP features, supported by Wampy\n         * @type {object}\n         * @private\n         */\n        this._wamp_features = {\n            agent: 'Wampy.js ' + this.version,\n            roles: {\n                publisher : {\n                    features: {\n                        subscriber_blackwhite_listing: true,\n                        publisher_exclusion          : true,\n                        publisher_identification     : true,\n                        payload_passthru_mode        : true\n                    }\n                },\n                subscriber: {\n                    features: {\n                        pattern_based_subscription: true,\n                        publication_trustlevels   : true,\n                        publisher_identification  : true,\n                        payload_passthru_mode     : true\n                    }\n                },\n                caller    : {\n                    features: {\n                        caller_identification   : true,\n                        progressive_call_results: true,\n                        call_canceling          : true,\n                        call_timeout            : true,\n                        payload_passthru_mode   : true\n                    }\n                },\n                callee    : {\n                    features: {\n                        caller_identification     : true,\n                        call_trustlevels          : true,\n                        pattern_based_registration: true,\n                        shared_registration       : true,\n                        payload_passthru_mode     : true\n\n                    }\n                }\n            }\n        };\n\n        /**\n         * Internal cache for object lifetime\n         * @type {Object}\n         * @private\n         */\n        this._cache = {\n            /**\n             * WAMP Session ID\n             * @type {string|null}\n             */\n            sessionId: null,\n\n            /**\n             * WAMP Session scope requests ID\n             * @type {int}\n             */\n            reqId: 0,\n\n            /**\n             * Server WAMP roles and features\n             */\n            server_wamp_features: { roles: {} },\n\n            /**\n             * Are we in state of saying goodbye\n             * @type {boolean}\n             */\n            isSayingGoodbye: false,\n\n            /**\n             * Status of last operation\n             */\n            opStatus: {\n\n                /**\n                 * Int code of last operation\n                 * @type {int}\n                 */\n                code: 0,\n\n                /**\n                 * Error of last operation (if not was successful)\n                 * @type {Error}\n                 */\n                error: null,\n\n                /**\n                 * Request ID of last successfully sent operation\n                 * @type {int}\n                 */\n                reqId: 0\n            },\n\n            /**\n             * Timer for reconnection\n             * @type {int|null}\n             */\n            timer: null,\n\n            /**\n             * Reconnection attempts\n             * @type {number}\n             */\n            reconnectingAttempts: 0,\n\n            /**\n             * Promise for onConnect\n             */\n            connectPromise: null,\n\n            /**\n             * Promise for onClose\n             */\n            closePromise: null\n        };\n\n        /**\n         * WebSocket object\n         * @type {WebSocket}\n         * @private\n         */\n        this._ws = null;\n\n        /**\n         * Internal queue for websocket requests, for case of disconnect\n         * @type {Array}\n         * @private\n         */\n        this._wsQueue = [];\n\n        /**\n         * Internal queue for wamp requests\n         * @type {object}\n         * @private\n         */\n        this._requests = {};\n\n        /**\n         * Stored RPC\n         * @type {object}\n         * @private\n         */\n        this._calls = {};\n\n        /**\n         * Stored Pub/Sub\n         * @type {object}\n         * @private\n         */\n        this._subscriptions = {};\n\n        /**\n         * Stored Pub/Sub topics\n         * @type {Set}\n         * @private\n         */\n        this._subsTopics = new Set();\n\n        /**\n         * Stored RPC Registrations\n         * @type {object}\n         * @private\n         */\n        this._rpcRegs = {};\n\n        /**\n         * Stored RPC names\n         * @type {Set}\n         * @private\n         */\n        this._rpcNames = new Set();\n\n        /**\n         * Options hash-table\n         * @type {Object}\n         * @private\n         */\n        this._options = {\n            /**\n             * Logging\n             * @type {boolean}\n             */\n            debug: false,\n\n            /**\n             * Logger\n             * @type {function}\n             */\n            logger: null,\n\n            /**\n             * Reconnecting flag\n             * @type {boolean}\n             */\n            autoReconnect: true,\n\n            /**\n             * Reconnecting interval (in ms)\n             * @type {number}\n             */\n            reconnectInterval: 2 * 1000,\n\n            /**\n             * Maximum reconnection retries\n             * @type {number}\n             */\n            maxRetries: 25,\n\n            /**\n             * WAMP Realm to join\n             * @type {string|null}\n             */\n            realm: null,\n\n            /**\n             * Custom attributes to send to router on hello\n             * @type {object}\n             */\n            helloCustomDetails: null,\n\n            /**\n             * Validation of the topic URI structure\n             * @type {string} - strict or loose\n             */\n            uriValidation: 'strict',\n\n            /**\n             * Authentication id to use in challenge\n             * @type {string|null}\n             */\n            authid: null,\n\n            /**\n             * Supported authentication methods\n             * @type {array}\n             */\n            authmethods: [],\n\n            /**\n             * Additional authentication options (used in WAMP CryptoSign for example)\n             * @type {object}\n             */\n            authextra: {},\n\n            /**\n             * Authentication helpers for processing different authmethods challenge flows\n             * @type {object}\n             */\n            authPlugins: {},\n\n            /**\n             * Mode of authorization flow\n             * Possible values: manual | auto\n             * @type {string}\n             */\n            authMode: 'manual',\n\n            /**\n             * onChallenge callback\n             * @type {function}\n             */\n            onChallenge: null,\n\n            /**\n             * onClose callback\n             * @type {function}\n             */\n            onClose: null,\n\n            /**\n             * onError callback\n             * @type {function}\n             */\n            onError: null,\n\n            /**\n             * onReconnect callback\n             * @type {function}\n             */\n            onReconnect: null,\n\n            /**\n             * onReconnectSuccess callback\n             * @type {function}\n             */\n            onReconnectSuccess: null,\n\n            /**\n             * User provided WebSocket class\n             * @type {function}\n             */\n            ws: null,\n\n            /**\n             * User provided additional HTTP headers (for use in Node.js enviroment)\n             * @type {object}\n             */\n            additionalHeaders: null,\n\n            /**\n             * User provided WS Client Config Options (for use in Node.js enviroment)\n             * @type {object}\n             */\n            wsRequestOptions: null,\n\n            /**\n             * User provided Serializer class\n             * @type {object}\n             */\n            serializer: jsonSerializer,\n\n            /**\n             * User provided Serializers for Payload Passthru Mode\n             * @type {object}\n             */\n            payloadSerializers: {\n                json: jsonSerializer\n            }\n        };\n\n        if (this._isPlainObject(options)) {\n            this._options = this._merge(this._options, options);\n        } else if (this._isPlainObject(url)) {\n            this._options = this._merge(this._options, url);\n        }\n\n    }\n\n    /* Internal utils methods */\n    /**\n     * Internal logger\n     * @private\n     */\n    _log (...args) {\n        if (this._options.debug) {\n            if (this._options.logger) {\n                this._options.logger(args);\n            } else {\n                console.log('[wampy]', args);\n            }\n        }\n    }\n\n    /**\n     * Get the new unique request id\n     * @returns {number}\n     * @private\n     */\n    _getReqId () {\n        return ++this._cache.reqId;\n    }\n\n    /**\n     * Merge argument objects into one\n     * @returns {Object}\n     * @private\n     */\n    _merge (...args) {\n        const obj = {}, l = args.length;\n        let i, attr;\n\n        for (i = 0; i < l; i++) {\n            for (attr in args[i]) {\n                obj[attr] = args[i][attr];\n            }\n        }\n        return obj;\n    }\n\n    /**\n     * Check if value is array\n     * @param obj\n     * @returns {boolean}\n     * @private\n     */\n    _isArray (obj) {\n        return (!!obj) && (Array.isArray(obj));\n    }\n\n    /**\n     * Check if value is object literal\n     * @param obj\n     * @returns {boolean}\n     * @private\n     */\n    _isPlainObject (obj) {\n        if (!this._isObject(obj)) {\n            return false;\n        }\n\n        // If obj has modified constructor\n        const ctor = obj.constructor;\n        if (typeof ctor !== 'function') {\n            return false;\n        }\n\n        // If obj has modified prototype\n        const prot = ctor.prototype;\n        if (this._isObject(prot) === false) {\n            return false;\n        }\n\n        // If constructor does not have an Object-specific method\n        return Object.hasOwnProperty.call(prot, 'isPrototypeOf') !== false;\n    }\n\n    /**\n     * Check if value is an object\n     * @param obj\n     * @returns {boolean}\n     * @private\n     */\n    _isObject (obj) {\n        return obj !== null\n            && typeof obj === 'object'\n            && Array.isArray(obj) === false\n            && Object.prototype.toString.call(obj) === '[object Object]';\n    }\n\n    /**\n     * Set websocket protocol based on options\n     * @private\n     */\n    _setWsProtocols () {\n        if (!(this._options.serializer instanceof JsonSerializer)) {\n            this._protocols.unshift('wamp.2.' + this._options.serializer.protocol);\n        }\n    }\n\n    /**\n     * Fill instance operation status\n     * @param {Error} err\n     * @private\n     */\n    _fillOpStatusByError (err) {\n        this._cache.opStatus = {\n            code: err.code,\n            error: err,\n            reqId: 0\n        };\n    }\n\n    /**\n     * Prerequisite checks for any wampy api call\n     * @param {object} topicType { topic: URI, patternBased: true|false, allowWAMP: true|false }\n     * @param {string} role\n     * @returns {boolean}\n     * @private\n     */\n    _preReqChecks (topicType, role) {\n        let err;\n\n        if (this._cache.sessionId && !this._cache.server_wamp_features.roles[role]) {\n            switch (role) {\n                case 'dealer':\n                    err = new Errors.NoDealerError();\n                    break;\n                case 'broker':\n                    err = new Errors.NoBrokerError();\n                    break;\n            }\n            this._fillOpStatusByError(err);\n            return false;\n        }\n\n        if (topicType && !this._validateURI(topicType.topic, topicType.patternBased, topicType.allowWAMP)) {\n            this._fillOpStatusByError(new Errors.UriError());\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Check for specified feature in a role of connected WAMP Router\n     * @param {string} role\n     * @param {string} feature\n     * @returns {boolean}\n     * @private\n     */\n    _checkRouterFeature (role, feature) {\n        return this._cache.server_wamp_features.roles[role].features[feature] === true;\n    }\n\n    /**\n     * Check for PPT mode options correctness\n     * @param {string} role WAMP Router Role to check support\n     * @param {object} options\n     * @returns {boolean}\n     * @private\n     */\n    _checkPPTOptions (role, options) {\n        if (!this._checkRouterFeature(role, 'payload_passthru_mode')) {\n            this._fillOpStatusByError(new Errors.PPTNotSupportedError());\n            return false;\n        }\n\n        if (options.ppt_scheme.search(/^(wamp$|mqtt$|x_)/) < 0) {\n            this._fillOpStatusByError(new Errors.PPTInvalidSchemeError());\n            return false;\n        }\n\n        if (options.ppt_scheme === 'wamp' && !E2EE_SERIALIZERS.includes(options.ppt_serializer)) {\n            this._fillOpStatusByError(new Errors.PPTSerializerInvalidError());\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Validate uri\n     * @param {string} uri\n     * @param {boolean} patternBased\n     * @param {boolean} allowWAMP\n     * @returns {boolean}\n     * @private\n     */\n    _validateURI (uri, patternBased, allowWAMP) {\n        let reBase;\n        let rePattern;\n\n        if (this._options.uriValidation === 'strict') {\n            reBase = /^([0-9a-zA-Z_]+\\.)*([0-9a-zA-Z_]+)$/;\n            rePattern = /^([0-9a-zA-Z_]+\\.{1,2})*([0-9a-zA-Z_]+)$/;\n        } else if (this._options.uriValidation === 'loose') {\n            reBase = /^([^\\s.#]+\\.)*([^\\s.#]+)$/;\n            rePattern = /^([^\\s.#]+\\.{1,2})*([^\\s.#]+)$/;\n        } else {\n            return false;\n        }\n        const re = patternBased ? rePattern : reBase;\n\n        if (allowWAMP) {\n            return re.test(uri);\n        } else {\n            return !(!re.test(uri) || uri.indexOf('wamp.') === 0);\n        }\n    }\n\n    /**\n     * Prepares PPT/E2EE payload for adding to WAMP message\n     * @param {string|number|Array|object} payload\n     * @param {Object} options\n     * @returns {Object}\n     * @private\n     */\n    _packPPTPayload (payload, options) {\n        let payloadItems = [], err = false, argsList, argsDict;\n\n        if (this._isArray(payload)) {\n            argsList = payload;\n        } else if (this._isPlainObject(payload)) {\n            // It's a wampy unified form of payload passing\n            if (payload.argsList || payload.argsDict) {\n                if (this._isArray(payload.argsList)) {\n                    argsList = payload.argsList;\n                } else if (typeof (payload.argsList) !== 'undefined') {\n                    argsList = [payload.argsList];\n                }\n\n                if (payload.argsDict) {\n                    argsDict = payload.argsDict;\n                }\n            } else {\n                argsDict = payload;\n            }\n        } else {    // assume it's a single value\n            argsList = [payload];\n        }\n\n        // Check and handle Payload PassThru Mode\n        // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n        if (options.ppt_scheme) {\n            let binPayload, pptPayload = { args: argsList, kwargs: argsDict };\n\n            if (options.ppt_serializer && options.ppt_serializer !== 'native') {\n                let pptSerializer = this._options.payloadSerializers[options.ppt_serializer];\n\n                if (!pptSerializer) {\n                    err = true;\n                    this._fillOpStatusByError(new Errors.PPTSerializerInvalidError());\n                    return { err, payloadItems };\n                }\n\n                try {\n                    binPayload = pptSerializer.encode(pptPayload);\n                } catch (e) {\n                    err = true;\n                    this._fillOpStatusByError(new Errors.PPTSerializationError());\n                    return { err, payloadItems };\n                }\n            } else {\n                binPayload = pptPayload;\n            }\n\n            // wamp scheme means Payload End-to-End Encryption\n            // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-end-to-end-encrypti\n            if (options.ppt_scheme === 'wamp') {\n\n                // TODO: implement End-to-End Encryption\n            }\n\n            payloadItems.push([binPayload]);\n\n        } else {\n            if (argsList) {\n                payloadItems.push(argsList);\n            }\n            if (argsDict) {\n                if (!argsList) {\n                    payloadItems.push([]);\n                }\n                payloadItems.push(argsDict);\n            }\n        }\n\n        return { err, payloadItems };\n    }\n\n    /**\n     * Unpack PPT/E2EE payload to common\n     * @param {string} role\n     * @param {Array} pptPayload\n     * @param {Object} options\n     * @returns {Object}\n     * @private\n     */\n    async _unpackPPTPayload (role, pptPayload, options) {\n        let err = false, decodedPayload;\n\n        if (!this._checkPPTOptions(role, options)) {\n            return { err: this._cache.opStatus.error };\n        }\n\n        // wamp scheme means Payload End-to-End Encryption\n        // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-end-to-end-encrypti\n        if (options.ppt_scheme === 'wamp') {\n\n            // TODO: implement End-to-End Encryption\n\n        }\n\n        if (options.ppt_serializer && options.ppt_serializer !== 'native') {\n            let pptSerializer = this._options.payloadSerializers[options.ppt_serializer];\n\n            if (!pptSerializer) {\n                return { err: new Errors.PPTSerializerInvalidError() };\n            }\n\n            try {\n                decodedPayload = await pptSerializer.decode(pptPayload);\n            } catch (e) {\n                return { err: new Errors.PPTSerializationError() };\n            }\n        } else {\n            decodedPayload = pptPayload;\n        }\n        return { err, args: decodedPayload.args, kwargs: decodedPayload.kwargs };\n    }\n\n    /**\n     * Encode WAMP message\n     * @param {Array} msg\n     * @returns {*}\n     * @private\n     */\n    _encode (msg) {\n        try {\n            return this._options.serializer.encode(msg);\n        } catch (e) {\n            this._hardClose('wamp.error.protocol_violation', 'Can not encode message');\n        }\n    }\n\n    /**\n     * Decode WAMP message\n     * @param  msg\n     * @returns {Promise}\n     * @private\n     */\n    _decode (msg) {\n        return this._options.serializer.decode(msg);\n    }\n\n    /**\n     * Hard close of connection due to protocol violations\n     * @param {string} errorUri\n     * @param {string} details\n     * @private\n     */\n    _hardClose (errorUri, details) {\n        this._log(details);\n        // Cleanup outgoing message queue\n        this._wsQueue = [];\n        this._send([WAMP_MSG_SPEC.ABORT, { message: details }, errorUri]);\n\n        let err = new Errors.ProtocolViolationError(errorUri, details);\n\n        // In case we were just making first connection\n        if (this._cache.connectPromise) {\n            this._cache.connectPromise.onError(err);\n            this._cache.connectPromise = null;\n        }\n\n        if (this._options.onError) {\n            this._options.onError(err);\n        }\n\n        this._ws.close();\n    }\n\n    /**\n     * Send encoded message to server\n     * @param {Array} [msg]\n     * @private\n     */\n    _send (msg) {\n        if (msg) {\n            this._wsQueue.push(this._encode(msg));\n        }\n\n        if (this._ws && this._ws.readyState === 1 && this._cache.sessionId) {\n            while (this._wsQueue.length) {\n                this._ws.send(this._wsQueue.shift());\n            }\n        }\n    }\n\n    /**\n     * Reset internal state and cache\n     * @private\n     */\n    _resetState () {\n        this._wsQueue = [];\n        this._subscriptions = {};\n        this._subsTopics = new Set();\n        this._requests = {};\n        this._calls = {};\n        this._rpcRegs = {};\n        this._rpcNames = new Set();\n\n        // Just keep attrs that are have to be present\n        this._cache = {\n            reqId               : 0,\n            reconnectingAttempts: 0,\n            opStatus            : SUCCESS,\n            closePromise        : null,\n            connectPromise      : null,\n        };\n    }\n\n    /**\n     * Initialize internal websocket callbacks\n     * @private\n     */\n    _initWsCallbacks () {\n        if (this._ws) {\n            this._ws.onopen = () => {\n                this._wsOnOpen();\n            };\n            this._ws.onclose = event => {\n                this._wsOnClose(event);\n            };\n            this._ws.onmessage = event => {\n                this._wsOnMessage(event);\n            };\n            this._ws.onerror = error => {\n                this._wsOnError(error);\n            };\n        }\n    }\n\n    /**\n     * Internal websocket on open callback\n     * @private\n     */\n    _wsOnOpen () {\n        const options = this._merge(this._options.helloCustomDetails, this._wamp_features),\n            serverProtocol = this._ws.protocol ? this._ws.protocol.split('.')[2] : '';\n        if (this._options.authid) {\n            options.authmethods = this._options.authmethods;\n            options.authid = this._options.authid;\n            options.authextra = this._options.authextra;\n        }\n\n        this._log('websocket connected');\n\n        if (this._options.serializer.protocol !== serverProtocol) {\n            // Server have chosen not our preferred protocol\n\n            // Falling back to json if possible\n            // Temp hack for React Native Environment is removed as\n            // (facebook/react-native#24796) was resolved\n            if (serverProtocol === 'json') {\n                this._options.serializer = new JsonSerializer();\n            } else {\n                let err = new Errors.NoSerializerAvailableError();\n                this._fillOpStatusByError(err);\n\n                if (this._cache.connectPromise) {\n                    this._cache.connectPromise.onError(err);\n                    this._cache.connectPromise = null;\n                }\n\n                if (this._options.onError) {\n                    this._options.onError(err);\n                }\n            }\n        }\n\n        if (this._options.serializer.isBinary) {\n            this._ws.binaryType = 'arraybuffer';\n        }\n\n        // WAMP SPEC: [HELLO, Realm|uri, Details|dict]\n        // Sending directly 'cause it's a hello msg and no sessionId check is needed\n        this._ws.send(this._encode([WAMP_MSG_SPEC.HELLO, this._options.realm, options]));\n    }\n\n    /**\n     * Internal websocket on close callback\n     * @param {object} event\n     * @private\n     */\n    _wsOnClose (event) {\n        this._log('websocket disconnected. Info: ', event);\n\n        // Automatic reconnection\n        if ((this._cache.sessionId || this._cache.reconnectingAttempts) &&\n            this._options.autoReconnect &&\n            (this._options.maxRetries === 0 ||\n             this._cache.reconnectingAttempts < this._options.maxRetries) &&\n            !this._cache.isSayingGoodbye) {\n            this._cache.sessionId = null;\n            this._cache.timer = setTimeout(() => {\n                this._wsReconnect();\n            }, this._options.reconnectInterval);\n        } else {\n            // No reconnection needed or reached max retries count\n            if (this._options.onClose) {\n                this._options.onClose();\n            } else if (this._cache.closePromise) {\n                this._cache.closePromise.onSuccess();\n                this._cache.closePromise = null;\n            }\n            this._resetState();\n            this._ws = null;\n        }\n    }\n\n    /**\n     * Internal websocket on event callback\n     * @param {object} event\n     * @private\n     */\n    async _wsOnMessage (event) {\n        let data;\n        try {\n            data = await this._decode(event.data);\n        } catch (e) {\n            this._hardClose('wamp.error.protocol_violation', 'Can not decode received message');\n        }\n\n        this._log('websocket message received: ', data);\n\n        let id, i, p, self = this;\n\n        switch (data[0]) {\n            case WAMP_MSG_SPEC.WELCOME:\n                // WAMP SPEC: [WELCOME, Session|id, Details|dict]\n                if (this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received WELCOME message after session was established');\n                } else {\n                    this._cache.sessionId = data[1];\n                    this._cache.server_wamp_features = data[2];\n\n                    if (this._cache.reconnectingAttempts) {\n                        // There was reconnection\n\n                        this._cache.reconnectingAttempts = 0;\n\n                        if (this._options.onReconnectSuccess) {\n                            await this._options.onReconnectSuccess(data[2]);\n                        }\n\n                        // Let's renew all previous state\n                        this._renewSubscriptions();\n                        this._renewRegistrations();\n\n                    } else {\n                        // Firing onConnect event on real connection to WAMP server\n                        this._cache.connectPromise.onSuccess(data[2]);\n                        this._cache.connectPromise = null;\n                    }\n\n                    // Send local queue if there is something out there\n                    this._send();\n                }\n                break;\n            case WAMP_MSG_SPEC.ABORT:\n                // WAMP SPEC: [ABORT, Details|dict, Reason|uri]\n                if (this._options.onError) {\n                    await this._options.onError(new Errors.AbortError({ error: data[2], details: data[1] }));\n                }\n                this._ws.close();\n                break;\n            case WAMP_MSG_SPEC.CHALLENGE:\n                // WAMP SPEC: [CHALLENGE, AuthMethod|string, Extra|dict]\n                if (this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received CHALLENGE message after session was established');\n                    break;\n                } else if (this._options.authid &&\n                    this._options.authMode === 'manual' &&\n                    typeof this._options.onChallenge === 'function') {\n\n                    p = new Promise((resolve, reject) => {\n                        resolve(this._options.onChallenge(data[1], data[2]));\n                    });\n\n                } else if (this._options.authid &&\n                    this._options.authMode === 'auto' &&\n                    typeof this._options.authPlugins[data[1]] === 'function') {\n\n                    p = new Promise((resolve, reject) => {\n                        resolve(this._options.authPlugins[data[1]](data[1], data[2]));\n                    });\n\n                } else {\n                    let error = new Errors.NoCRACallbackOrIdError();\n\n                    this._fillOpStatusByError(error);\n                    this._ws.send(this._encode([\n                        WAMP_MSG_SPEC.ABORT,\n                        { message: error.message },\n                        'wamp.error.cannot_authenticate'\n                    ]));\n                    if (this._options.onError) {\n                        await this._options.onError(error);\n                    }\n                    this._ws.close();\n                    break;\n                }\n\n                try {\n                    let key = await p;\n\n                    // Sending directly 'cause it's a challenge msg and no sessionId check is needed\n                    this._ws.send(this._encode([WAMP_MSG_SPEC.AUTHENTICATE, key, {}]));\n\n                } catch (e) {\n                    let error = new Errors.ChallengeExceptionError();\n\n                    this._fillOpStatusByError(error);\n                    this._ws.send(this._encode([\n                        WAMP_MSG_SPEC.ABORT,\n                        { message: error.message },\n                        'wamp.error.cannot_authenticate'\n                    ]));\n                    if (this._options.onError) {\n                        await this._options.onError(error);\n                    }\n                    this._ws.close();\n                }\n\n                break;\n            case WAMP_MSG_SPEC.GOODBYE:\n                // WAMP SPEC: [GOODBYE, Details|dict, Reason|uri]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received GOODBYE message before session was established');\n                } else {\n                    if (!this._cache.isSayingGoodbye) {    // get goodbye, initiated by server\n                        this._cache.isSayingGoodbye = true;\n                        this._send([WAMP_MSG_SPEC.GOODBYE, {}, 'wamp.close.goodbye_and_out']);\n                    }\n                    this._cache.sessionId = null;\n                    this._ws.close();\n                }\n                break;\n            case WAMP_MSG_SPEC.ERROR:\n                // WAMP SPEC: [ERROR, REQUEST.Type|int, REQUEST.Request|id, Details|dict,\n                //             Error|uri, (Arguments|list, ArgumentsKw|dict)]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received ERROR message before session was established');\n                } else {\n                    let errData = {\n                        error   : data[4],\n                        details : data[3],\n                        argsList: data[5],\n                        argsDict: data[6]\n                    };\n\n                    switch (data[1]) {\n                        case WAMP_MSG_SPEC.SUBSCRIBE:\n\n                            this._requests[data[2]] && this._requests[data[2]].callbacks.onError &&\n                            await this._requests[data[2]].callbacks.onError(new Errors.SubscribeError(errData));\n                            delete this._requests[data[2]];\n\n                            break;\n                        case WAMP_MSG_SPEC.UNSUBSCRIBE:\n\n                            this._requests[data[2]] && this._requests[data[2]].callbacks.onError &&\n                            await this._requests[data[2]].callbacks.onError(new Errors.UnsubscribeError(errData));\n                            delete this._requests[data[2]];\n\n                            break;\n                        case WAMP_MSG_SPEC.PUBLISH:\n\n                            this._requests[data[2]] && this._requests[data[2]].callbacks.onError &&\n                            await this._requests[data[2]].callbacks.onError(new Errors.PublishError(errData));\n                            delete this._requests[data[2]];\n\n                            break;\n                        case WAMP_MSG_SPEC.REGISTER:\n\n                            this._requests[data[2]] && this._requests[data[2]].callbacks.onError &&\n                            await this._requests[data[2]].callbacks.onError(new Errors.RegisterError(errData));\n                            delete this._requests[data[2]];\n\n                            break;\n                        case WAMP_MSG_SPEC.UNREGISTER:\n\n                            this._requests[data[2]] && this._requests[data[2]].callbacks.onError &&\n                            await this._requests[data[2]].callbacks.onError(new Errors.UnregisterError(errData));\n                            delete this._requests[data[2]];\n\n                            break;\n                        // case WAMP_MSG_SPEC.INVOCATION:\n                        //     break;\n                        case WAMP_MSG_SPEC.CALL:\n\n                            // WAMP SPEC: [ERROR, CALL, CALL.Request|id, Details|dict,\n                            //             Error|uri, Arguments|list, ArgumentsKw|dict]\n                            this._calls[data[2]] && this._calls[data[2]].onError &&\n                            await this._calls[data[2]].onError(new Errors.CallError(errData));\n                            delete this._calls[data[2]];\n\n                            break;\n                        default:\n                            this._hardClose('wamp.error.protocol_violation', 'Received invalid ERROR message');\n                            break;\n                    }\n                }\n                break;\n            case WAMP_MSG_SPEC.SUBSCRIBED:\n                // WAMP SPEC: [SUBSCRIBED, SUBSCRIBE.Request|id, Subscription|id]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received SUBSCRIBED message before session was established');\n                } else {\n                    if (this._requests[data[1]]) {\n                        this._subscriptions[this._requests[data[1]].topic] = this._subscriptions[data[2]] = {\n                            id             : data[2],\n                            callbacks      : [this._requests[data[1]].callbacks.onEvent],\n                            advancedOptions: this._requests[data[1]].advancedOptions\n                        };\n\n                        this._subsTopics.add(this._requests[data[1]].topic);\n\n                        if (this._requests[data[1]].callbacks.onSuccess) {\n                            await this._requests[data[1]].callbacks.onSuccess({\n                                topic         : this._requests[data[1]].topic,\n                                requestId     : data[1],\n                                subscriptionId: data[2]\n                            });\n                        }\n\n                        delete this._requests[data[1]];\n                    }\n                }\n                break;\n            case WAMP_MSG_SPEC.UNSUBSCRIBED:\n                // WAMP SPEC: [UNSUBSCRIBED, UNSUBSCRIBE.Request|id]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received UNSUBSCRIBED message before session was established');\n                } else {\n                    if (this._requests[data[1]]) {\n                        id = this._subscriptions[this._requests[data[1]].topic].id;\n                        delete this._subscriptions[this._requests[data[1]].topic];\n                        delete this._subscriptions[id];\n\n                        if (this._subsTopics.has(this._requests[data[1]].topic)) {\n                            this._subsTopics.delete(this._requests[data[1]].topic);\n                        }\n\n                        if (this._requests[data[1]].callbacks.onSuccess) {\n                            await this._requests[data[1]].callbacks.onSuccess({\n                                topic    : this._requests[data[1]].topic,\n                                requestId: data[1]\n                            });\n                        }\n\n                        delete this._requests[data[1]];\n                    }\n                }\n                break;\n            case WAMP_MSG_SPEC.PUBLISHED:\n                // WAMP SPEC: [PUBLISHED, PUBLISH.Request|id, Publication|id]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received PUBLISHED message before session was established');\n                } else {\n                    if (this._requests[data[1]]) {\n                        if (this._requests[data[1]].callbacks && this._requests[data[1]].callbacks.onSuccess) {\n                            await this._requests[data[1]].callbacks.onSuccess({\n                                topic        : this._requests[data[1]].topic,\n                                requestId    : data[1],\n                                publicationId: data[2]\n                            });\n                        }\n\n                        delete this._requests[data[1]];\n                    }\n                }\n                break;\n            case WAMP_MSG_SPEC.EVENT:\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received EVENT message before session was established');\n                } else {\n                    if (this._subscriptions[data[1]]) {\n                        let argsList, argsDict, options = data[3];\n\n                        // WAMP SPEC: [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id,\n                        //             Details|dict, PUBLISH.Arguments|list, PUBLISH.ArgumentKw|dict]\n\n                        // Check and handle Payload PassThru Mode\n                        // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n                        if (options.ppt_scheme) {\n                            let decodedPayload, pptPayload = data[4][0];\n\n                            decodedPayload = await this._unpackPPTPayload('broker', pptPayload, options);\n\n                            if (decodedPayload.err) {\n                                // Since it is async publication, and no link to\n                                // original publication - as it was already published\n                                // we can not reply with error, only log it.\n                                // Although the router should handle it\n                                this._log(decodedPayload.err.message);\n                                break;\n                            }\n\n                            argsList = decodedPayload.args;\n                            argsDict = decodedPayload.kwargs;\n\n                        } else {\n                            argsList = data[4];\n                            argsDict = data[5];\n                        }\n\n                        i = this._subscriptions[data[1]].callbacks.length;\n                        while (i--) {\n                            await this._subscriptions[data[1]].callbacks[i]({\n                                details : options,\n                                argsList: argsList,\n                                argsDict: argsDict\n                            });\n                        }\n                    }\n                }\n                break;\n            case WAMP_MSG_SPEC.RESULT:\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received RESULT message before session was established');\n                } else {\n                    if (this._calls[data[1]]) {\n                        let argsList, argsDict, options = data[2];\n\n                        // WAMP SPEC: [RESULT, CALL.Request|id, Details|dict,\n                        //             YIELD.Arguments|list, YIELD.ArgumentsKw|dict]\n\n                        // Check and handle Payload PassThru Mode\n                        // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n                        if (options.ppt_scheme) {\n                            let decodedPayload, pptPayload = data[3][0];\n\n                            decodedPayload = await this._unpackPPTPayload('dealer', pptPayload, options);\n\n                            if (decodedPayload.err) {\n                                this._log(decodedPayload.err.message);\n                                this._cache.opStatus = decodedPayload.err;\n                                await this._calls[data[1]].onError(new Errors.CallError({\n                                    error     : 'wamp.error.invocation_exception',\n                                    details   : data[2],\n                                    argsList  : [decodedPayload.err.message],\n                                    argsDict  : null\n                                }));\n                                delete this._calls[data[1]];\n                                break;\n                            }\n\n                            argsList = decodedPayload.args;\n                            argsDict = decodedPayload.kwargs;\n\n                        } else {\n                            argsList = data[3];\n                            argsDict = data[4];\n                        }\n\n                        if (options.progress === true) {\n                            await this._calls[data[1]].onProgress({\n                                details : options,\n                                argsList: argsList,\n                                argsDict: argsDict\n                            });\n                        } else {\n                            // We received final result (progressive or not)\n                            await this._calls[data[1]].onSuccess({\n                                details : options,\n                                argsList: argsList,\n                                argsDict: argsDict\n                            });\n                            delete this._calls[data[1]];\n                        }\n                    }\n                }\n                break;\n            // case WAMP_MSG_SPEC.REGISTER:\n            //     // WAMP SPEC:\n            //     break;\n            case WAMP_MSG_SPEC.REGISTERED:\n                // WAMP SPEC: [REGISTERED, REGISTER.Request|id, Registration|id]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received REGISTERED message before session was established');\n                } else {\n                    if (this._requests[data[1]]) {\n                        this._rpcRegs[this._requests[data[1]].topic] = this._rpcRegs[data[2]] = {\n                            id       : data[2],\n                            callbacks: [this._requests[data[1]].callbacks.rpc]\n                        };\n\n                        this._rpcNames.add(this._requests[data[1]].topic);\n\n                        if (this._requests[data[1]].callbacks && this._requests[data[1]].callbacks.onSuccess) {\n                            await this._requests[data[1]].callbacks.onSuccess({\n                                topic         : this._requests[data[1]].topic,\n                                requestId     : data[1],\n                                registrationId: data[2]\n                            });\n                        }\n\n                        delete this._requests[data[1]];\n                    }\n                }\n                break;\n            // case WAMP_MSG_SPEC.UNREGISTER:\n            //     // WAMP SPEC:\n            //     break;\n            case WAMP_MSG_SPEC.UNREGISTERED:\n                // WAMP SPEC: [UNREGISTERED, UNREGISTER.Request|id]\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received UNREGISTERED message before session was established');\n                } else {\n                    if (this._requests[data[1]]) {\n                        id = this._rpcRegs[this._requests[data[1]].topic].id;\n                        delete this._rpcRegs[this._requests[data[1]].topic];\n                        delete this._rpcRegs[id];\n\n                        if (this._rpcNames.has(this._requests[data[1]].topic)) {\n                            this._rpcNames.delete(this._requests[data[1]].topic);\n                        }\n\n                        if (this._requests[data[1]].callbacks && this._requests[data[1]].callbacks.onSuccess) {\n                            await this._requests[data[1]].callbacks.onSuccess({\n                                topic    : this._requests[data[1]].topic,\n                                requestId: data[1]\n                            });\n                        }\n\n                        delete this._requests[data[1]];\n                    }\n                }\n                break;\n            case WAMP_MSG_SPEC.INVOCATION:\n                if (!this._cache.sessionId) {\n                    this._hardClose('wamp.error.protocol_violation',\n                        'Received INVOCATION message before session was established');\n                } else {\n                    if (this._rpcRegs[data[2]]) {\n                        let argsList, argsDict, options = data[3];\n\n                        // WAMP SPEC: [INVOCATION, Request|id, REGISTERED.Registration|id,\n                        //             Details|dict, CALL.Arguments|list, CALL.ArgumentsKw|dict]\n\n                        let invoke_error_handler = ({ details, error, argsList, argsDict }) => {\n                                let msg = [WAMP_MSG_SPEC.ERROR, WAMP_MSG_SPEC.INVOCATION,\n                                    data[1], details || {}, error || 'wamp.error.invocation_exception'];\n\n                                if (argsList && self._isArray(argsList)) {\n                                    msg.push(argsList);\n                                }\n\n                                if (argsDict && self._isPlainObject(argsDict)) {\n                                    if (msg.length === 5) {\n                                        msg.push([]);\n                                    }\n                                    msg.push(argsDict);\n                                }\n                                self._send(msg);\n                            },\n                            invoke_result_handler = results => {\n                                // WAMP SPEC: [YIELD, INVOCATION.Request|id, Options|dict, (Arguments|list,\n                                // ArgumentsKw|dict)]\n                                let msg = [WAMP_MSG_SPEC.YIELD, data[1], {}];\n\n                                if (self._isPlainObject(results)) {\n\n                                    if (self._isPlainObject(results.options)) {\n                                        let options = results.options;\n\n                                        // Check and handle Payload PassThru Mode\n                                        // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n                                        let pptScheme = results.options.ppt_scheme;\n\n                                        if (pptScheme) {\n                                            if (!this._checkPPTOptions('dealer', results.options)) {\n                                                if (this._cache.opStatus.error && this._cache.opStatus.error instanceof Errors.PPTNotSupportedError) {\n                                                    // This case should not happen at all, but for safety\n                                                    this._hardClose('wamp.error.protocol_violation', 'Trying to send YIELD in PPT Mode, while Dealer didn\\'t announce it');\n                                                } else {\n                                                    invoke_error_handler({\n                                                        details : results.options,\n                                                        error   : 'wamp.error.invalid_option',\n                                                        argsList: [this._cache.opStatus.error.message],\n                                                        argsDict: null\n                                                    });\n                                                }\n                                                return;\n                                            }\n\n                                            options.ppt_scheme = pptScheme;\n\n                                            if (results.options.ppt_serializer) {\n                                                options.ppt_serializer = results.options.ppt_serializer;\n                                            }\n                                            if (results.options.ppt_cipher) {\n                                                options.ppt_cipher = results.options.ppt_cipher;\n                                            }\n                                            if (results.options.ppt_keyid) {\n                                                options.ppt_keyid = results.options.ppt_keyid;\n                                            }\n                                        }\n\n                                        msg[2] = options;\n                                    }\n\n                                }\n\n                                if (results !== null && typeof (results) !== 'undefined') {\n                                    let res = this._packPPTPayload(results, results.options || {});\n\n                                    if (res.err) {\n                                        invoke_error_handler({\n                                            details : results.options,\n                                            error   : null, // will be default'ed to invocation_exception\n                                            argsList: [this._cache.opStatus.error.message],\n                                            argsDict: null\n                                        });\n                                        return;\n                                    }\n                                    msg = msg.concat(res.payloadItems);\n                                }\n\n                                self._send(msg);\n                            };\n\n                        // Check and handle Payload PassThru Mode\n                        // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n                        if (options.ppt_scheme) {\n                            let decodedPayload, pptPayload = data[4][0];\n\n                            decodedPayload = await this._unpackPPTPayload('dealer', pptPayload, options);\n\n                            // This case should not happen at all, but for safety\n                            if (decodedPayload.err && decodedPayload.err instanceof Errors.PPTNotSupportedError) {\n                                this._log(decodedPayload.err.message);\n                                this._hardClose('wamp.error.protocol_violation', 'Received INVOCATION in PPT Mode, while Dealer didn\\'t announce it');\n                                break;\n                            } else if (decodedPayload.err) {\n\n                                this._log(decodedPayload.err.message);\n                                invoke_error_handler({\n                                    details : data[3],\n                                    error   : null, // will be default'ed to invocation_exception,\n                                    argsList: [decodedPayload.err.message],\n                                    argsDict: null\n                                });\n                                break;\n                            }\n\n                            argsList = decodedPayload.args;\n                            argsDict = decodedPayload.kwargs;\n\n                        } else {\n                            argsList = data[4];\n                            argsDict = data[5];\n                        }\n\n                        p = new Promise((resolve, reject) => {\n                            resolve(this._rpcRegs[data[2]].callbacks[0]({\n                                details       : options,\n                                argsList      : argsList,\n                                argsDict      : argsDict,\n                                result_handler: invoke_result_handler,\n                                error_handler : invoke_error_handler\n                            }));\n                        });\n\n                        try {\n                            let results = await p;\n                            invoke_result_handler(results);\n                        } catch (e) {\n                            invoke_error_handler(e);\n                        }\n                    } else {\n                        // WAMP SPEC: [ERROR, INVOCATION, INVOCATION.Request|id, Details|dict, Error|uri]\n                        this._send([WAMP_MSG_SPEC.ERROR, WAMP_MSG_SPEC.INVOCATION,\n                            data[1], {}, 'wamp.error.no_such_procedure']);\n                        this._log(WAMP_ERROR_MSG.NON_EXIST_RPC_INVOCATION);\n                    }\n                }\n                break;\n            // case WAMP_MSG_SPEC.INTERRUPT:\n            //     // WAMP SPEC:\n            //     break;\n            // case WAMP_MSG_SPEC.YIELD:\n            //     // WAMP SPEC:\n            //     break;\n            default:\n                this._hardClose('wamp.error.protocol_violation', 'Received non-compliant WAMP message');\n                break;\n        }\n    }\n\n    /**\n     * Internal websocket on error callback\n     * @param {object} error\n     * @private\n     */\n    _wsOnError (error) {\n        this._log('websocket error');\n        let err = new Errors.WebsocketError(error);\n\n        if (this._cache.connectPromise) {\n            this._cache.connectPromise.onError(err);\n            this._cache.connectPromise = null;\n        }\n\n        if (this._options.onError) {\n            this._options.onError(err);\n        }\n    }\n\n    /**\n     * Reconnect to server in case of websocket error\n     * @private\n     */\n    _wsReconnect () {\n        this._log('websocket reconnecting...');\n\n        if (this._options.onReconnect) {\n            this._options.onReconnect();\n        }\n\n        this._cache.reconnectingAttempts++;\n        this._ws = getWebSocket(this._url, this._protocols, this._options.ws,\n            this._options.additionalHeaders, this._options.wsRequestOptions);\n        this._initWsCallbacks();\n    }\n\n    /**\n     * Resubscribe to topics in case of communication error\n     * @private\n     */\n    _renewSubscriptions () {\n        let i;\n        const subs = this._subscriptions,\n            st = this._subsTopics;\n\n        this._subscriptions = {};\n        this._subsTopics = new Set();\n\n        for (let topic of st) {\n            i = subs[topic].callbacks.length;\n            while (i--) {\n                this.subscribe(topic, subs[topic].callbacks[i], subs[topic].advancedOptions);\n            }\n        }\n    }\n\n    /**\n     * Reregister RPCs in case of communication error\n     * @private\n     */\n    _renewRegistrations () {\n        const rpcs = this._rpcRegs,\n            rn = this._rpcNames;\n\n        this._rpcRegs = {};\n        this._rpcNames = new Set();\n\n        for (let rpcName of rn) {\n            this.register(rpcName, rpcs[rpcName].callbacks[0]);\n        }\n    }\n\n    /*************************************************************************\n     * Wampy public API\n     *************************************************************************/\n\n    /**\n     * Get or set Wampy options\n     *\n     * To get options - call without parameters\n     * To set options - pass hash-table with options values\n     *\n     * @param {object} [opts]\n     * @returns {*}\n     */\n    options (opts) {\n        if (typeof (opts) === 'undefined') {\n            return this._options;\n        } else if (this._isPlainObject(opts)) {\n            this._options = this._merge(this._options, opts);\n            return this;\n        }\n    }\n\n    /**\n     * Get the status of last operation\n     *\n     * @returns {object} with 3 fields: code, error, reqId\n     *      code: 0 - if operation was successful\n     *      code > 0 - if error occurred\n     *      error: error instance containing details\n     *      reqId: last successfully sent request ID\n     */\n    getOpStatus () {\n        return this._cache.opStatus;\n    }\n\n    /**\n     * Get the WAMP Session ID\n     *\n     * @returns {string} Session ID\n     */\n    getSessionId () {\n        return this._cache.sessionId;\n    }\n\n    /**\n     * Connect to server\n     * @param {string} [url] New url (optional)\n     * @returns {Promise}\n     */\n    async connect (url) {\n        let error;\n\n        if (url) {\n            this._url = url;\n        }\n\n        if (this._options.realm) {\n\n            const authOpts = (this._options.authid ? 1 : 0) +\n                ((this._isArray(this._options.authmethods) && this._options.authmethods.length) ? 1 : 0) +\n                (typeof this._options.onChallenge === 'function' ||\n                 Object.keys(this._options.authPlugins).length ? 1 : 0);\n\n            if (authOpts > 0 && authOpts < 3) {\n                error = new Errors.NoCRACallbackOrIdError();\n                this._fillOpStatusByError(error);\n                throw error;\n            }\n\n            this._setWsProtocols();\n            this._ws = getWebSocket(this._url, this._protocols, this._options.ws,\n                this._options.additionalHeaders, this._options.wsRequestOptions);\n            if (!this._ws) {\n                error = new Errors.NoWsOrUrlError();\n                this._fillOpStatusByError(error);\n                throw error;\n            }\n            this._initWsCallbacks();\n\n        } else {\n            error = new Errors.NoRealmError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        let defer = getNewPromise();\n        this._cache.connectPromise = defer;\n        return defer.promise;\n    }\n\n    /**\n     * Disconnect from server\n     * @returns {Promise}\n     */\n    async disconnect () {\n        if (this._cache.sessionId) {\n            let defer = getNewPromise();\n            this._cache.opStatus = SUCCESS;\n            this._cache.closePromise = defer;\n            // need to send goodbye message to server\n            this._cache.isSayingGoodbye = true;\n            this._send([WAMP_MSG_SPEC.GOODBYE, {}, 'wamp.close.system_shutdown']);\n\n            return defer.promise;\n\n        } else if (this._ws) {\n            this._ws.close();\n        }\n\n        return true;\n    }\n\n    /**\n     * Abort WAMP session establishment\n     *\n     * @returns {Wampy}\n     */\n    abort () {\n\n        if (!this._cache.sessionId && this._ws.readyState === 1) {\n            this._send([WAMP_MSG_SPEC.ABORT, {}, 'wamp.error.abort']);\n            this._cache.sessionId = null;\n        }\n\n        this._ws.close();\n        this._cache.opStatus = SUCCESS;\n\n        return this;\n    }\n\n    /**\n     * Subscribe to a topic on a broker\n     *\n     * @param {string} topicURI\n     * @param {function} onEvent - received event callback\n     * @param {object} [advancedOptions] - optional parameter. Must include any or all of the options:\n     *                          { match: string matching policy (\"prefix\"|\"wildcard\") }\n     *\n     * @returns {Promise}\n     */\n    async subscribe (topicURI, onEvent, advancedOptions) {\n        let reqId, patternBased = false;\n        const options = {}, callbacks = getNewPromise();\n\n        if (this._isPlainObject(advancedOptions)) {\n            if (Object.prototype.hasOwnProperty.call(advancedOptions, 'match')) {\n                if (/prefix|wildcard/.test(advancedOptions.match)) {\n                    options.match = advancedOptions.match;\n                    patternBased = true;\n                } else {\n                    let error = new Errors.InvalidParamError('match');\n                    this._fillOpStatusByError(error);\n                    throw error;\n                }\n            }\n        } else if (typeof (advancedOptions) !== 'undefined') {\n            let error = new Errors.InvalidParamError('advancedOptions');\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        // Need to be placed here as patternBased flag is determined above\n        if (!this._preReqChecks({ topic: topicURI, patternBased: patternBased, allowWAMP: true },\n            'broker')) {\n            throw this._cache.opStatus.error;\n        }\n\n        if (typeof onEvent === 'function') {\n            callbacks.onEvent = onEvent;\n        } else {\n            let error = new Errors.NoCallbackError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        if (!this._subscriptions[topicURI] || !this._subscriptions[topicURI].callbacks.length) {\n            // no such subscription or processing unsubscribing\n\n            reqId = this._getReqId();\n\n            this._requests[reqId] = {\n                topic: topicURI,\n                callbacks,\n                advancedOptions\n            };\n\n            // WAMP SPEC: [SUBSCRIBE, Request|id, Options|dict, Topic|uri]\n            this._send([WAMP_MSG_SPEC.SUBSCRIBE, reqId, options, topicURI]);\n\n        } else {    // already have subscription to this topic\n            // There is no such callback yet\n            if (this._subscriptions[topicURI].callbacks.indexOf(callbacks.onEvent) < 0) {\n                this._subscriptions[topicURI].callbacks.push(callbacks.onEvent);\n            }\n\n            return {\n                topic: topicURI,\n                subscriptionId: this._subscriptions[topicURI].id\n            };\n        }\n\n        this._cache.opStatus = SUCCESS;\n        this._cache.opStatus.reqId = reqId;\n        return callbacks.promise;\n    }\n\n    /**\n     * Unsubscribe from topic\n     * @param {string} topicURI\n     * @param {function} [onEvent] - received event callback to remove (optional). If not provided -\n     *                               all callbacks will be removed and unsubscribed on the server\n     * @returns {Promise}\n     */\n    async unsubscribe (topicURI, onEvent) {\n        let reqId;\n        const callbacks = getNewPromise();\n\n        if (!this._preReqChecks(null, 'broker')) {\n            throw this._cache.opStatus.error;\n        }\n\n        if (this._subscriptions[topicURI]) {\n\n            reqId = this._getReqId();\n\n            if (typeof onEvent === 'function') {\n                let i = this._subscriptions[topicURI].callbacks.indexOf(onEvent);\n                if (i >= 0) {\n                    this._subscriptions[topicURI].callbacks.splice(i, 1);\n                }\n            } else {\n                this._subscriptions[topicURI].callbacks = [];\n            }\n\n            if (this._subscriptions[topicURI].callbacks.length) {\n                // There are another callbacks for this topic\n                this._cache.opStatus = SUCCESS;\n                return true;\n            }\n\n            this._requests[reqId] = {\n                topic: topicURI,\n                callbacks\n            };\n\n            // WAMP_SPEC: [UNSUBSCRIBE, Request|id, SUBSCRIBED.Subscription|id]\n            this._send([WAMP_MSG_SPEC.UNSUBSCRIBE, reqId, this._subscriptions[topicURI].id]);\n\n        } else {\n            let error = new Errors.NonExistUnsubscribeError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        this._cache.opStatus = SUCCESS;\n        this._cache.opStatus.reqId = reqId;\n        return callbacks.promise;\n    }\n\n    /**\n     * Publish an event to the topic\n     * @param {string} topicURI\n     * @param {string|number|Array|object} [payload] - can be either a value of any type or null or even omitted.\n     *                          Also, it is possible to pass array and object-like data simultaneously.\n     *                          In this case pass a hash-table with next attributes:\n     *                          {\n     *                             argsList: array payload (may be omitted)\n     *                             argsDict: object payload (may be omitted)\n     *                          }\n     * @param {object} [advancedOptions] - optional parameter. Must include any or all of the options:\n     *                          { exclude: integer|array WAMP session id(s) that won't receive a published event,\n     *                                      even though they may be subscribed\n     *                            exclude_authid: string|array Authentication id(s) that won't receive\n     *                                      a published event, even though they may be subscribed\n     *                            exclude_authrole: string|array Authentication role(s) that won't receive\n     *                                      a published event, even though they may be subscribed\n     *                            eligible: integer|array WAMP session id(s) that are allowed\n     *                                      to receive a published event\n     *                            eligible_authid: string|array Authentication id(s) that are allowed\n     *                                      to receive a published event\n     *                            eligible_authrole: string|array Authentication role(s) that are allowed\n     *                                      to receive a published event\n     *                            exclude_me: bool flag of receiving publishing event by initiator\n     *                            disclose_me: bool flag of disclosure of publisher identity (its WAMP session ID)\n     *                                      to receivers of a published event\n     *                            ppt_scheme: string Identifies the Payload Schema\n     *                            ppt_serializer: string Specifies what serializer was used to encode the payload\n     *                            ppt_cipher: string Specifies the cryptographic algorithm that was used to encrypt\n     *                                      the payload\n     *                            ppt_keyid: string Contains the encryption key id that was used to encrypt the payload\n     *                          }\n     * @returns {Promise}\n     */\n    async publish (topicURI, payload, advancedOptions) {\n        let reqId, msg;\n        const options = { acknowledge: true }, callbacks = getNewPromise(),\n            _optionsConvertHelper = (option, sourceType) => {\n                if (advancedOptions[option]) {\n                    if (this._isArray(advancedOptions[option]) && advancedOptions[option].length) {\n                        options[option] = advancedOptions[option];\n                    } else if (typeof advancedOptions[option] === sourceType) {\n                        options[option] = [advancedOptions[option]];\n                    } else {\n                        return false;\n                    }\n                }\n\n                return true;\n            };\n\n        if (!this._preReqChecks({ topic: topicURI, patternBased: false, allowWAMP: false }, 'broker')) {\n            throw this._cache.opStatus.error;\n        }\n\n        if (this._isPlainObject(advancedOptions)) {\n            if (!_optionsConvertHelper('exclude', 'number') ||\n                !_optionsConvertHelper('exclude_authid', 'string') ||\n                !_optionsConvertHelper('exclude_authrole', 'string') ||\n                !_optionsConvertHelper('eligible', 'number') ||\n                !_optionsConvertHelper('eligible_authid', 'string') ||\n                !_optionsConvertHelper('eligible_authrole', 'string')) {\n\n                let error = new Errors.InvalidParamError('advancedOptions');\n                this._fillOpStatusByError(error);\n                throw error;\n            }\n\n            if (Object.hasOwnProperty.call(advancedOptions, 'exclude_me')) {\n                options.exclude_me = advancedOptions.exclude_me !== false;\n            }\n\n            if (Object.hasOwnProperty.call(advancedOptions, 'disclose_me')) {\n                options.disclose_me = advancedOptions.disclose_me === true;\n            }\n\n            // Check and handle Payload PassThru Mode\n            // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n            let pptScheme = advancedOptions.ppt_scheme;\n\n            if (pptScheme) {\n                if (!this._checkPPTOptions('broker', advancedOptions)) {\n                    throw this._cache.opStatus.error;\n                }\n\n                options.ppt_scheme = pptScheme;\n\n                if (advancedOptions.ppt_serializer) {\n                    options.ppt_serializer = advancedOptions.ppt_serializer;\n                }\n                if (advancedOptions.ppt_cipher) {\n                    options.ppt_cipher = advancedOptions.ppt_cipher;\n                }\n                if (advancedOptions.ppt_keyid) {\n                    options.ppt_keyid = advancedOptions.ppt_keyid;\n                }\n            }\n\n        } else if (typeof (advancedOptions) !== 'undefined') {\n            let error = new Errors.InvalidParamError('advancedOptions');\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        reqId = this._getReqId();\n\n        this._requests[reqId] = {\n            topic: topicURI,\n            callbacks\n        };\n\n        // WAMP_SPEC: [PUBLISH, Request|id, Options|dict, Topic|uri]\n        msg = [WAMP_MSG_SPEC.PUBLISH, reqId, options, topicURI];\n\n        if (arguments.length > 1) {\n            // WAMP_SPEC: [PUBLISH, Request|id, Options|dict, Topic|uri, Arguments|list (, ArgumentsKw|dict)]\n            let res = this._packPPTPayload(payload, options);\n\n            if (res.err) {\n                throw this._cache.opStatus.error;\n            }\n            msg = msg.concat(res.payloadItems);\n        }\n\n        this._send(msg);\n        this._cache.opStatus = SUCCESS;\n        this._cache.opStatus.reqId = reqId;\n        return callbacks.promise;\n    }\n\n    /**\n     * Remote Procedure Call\n     * @param {string} topicURI\n     * @param {string|number|Array|object} [payload] - can be either a value of any type or null. Also, it\n     *                          is possible to pass array and object-like data simultaneously.\n     *                          In this case pass a hash-table with next attributes:\n     *                          {\n     *                             argsList: array payload (may be omitted)\n     *                             argsDict: object payload (may be omitted)\n     *                          }\n     * @param {object} [advancedOptions] - optional parameter. Must include any or all of the options:\n     *                          { disclose_me:      bool flag of disclosure of Caller identity (WAMP session ID)\n     *                                              to endpoints of a routed call\n     *                            progress_callback: function for handling progressive call results\n     *                            timeout:          integer timeout (in ms) for the call to finish\n     *                            ppt_scheme: string Identifies the Payload Schema\n     *                            ppt_serializer: string Specifies what serializer was used to encode the payload\n     *                            ppt_cipher: string Specifies the cryptographic algorithm that was used to encrypt\n     *                                the payload\n     *                            ppt_keyid: string Contains the encryption key id that was used to encrypt the payload\n     *                          }\n     * @returns {Promise}\n     */\n    async call (topicURI, payload, advancedOptions) {\n        let reqId, msg;\n        const options = {}, callbacks = getNewPromise();\n\n        if (!this._preReqChecks({ topic: topicURI, patternBased: false, allowWAMP: true }, 'dealer')) {\n            throw this._cache.opStatus.error;\n        }\n\n        if (this._isPlainObject(advancedOptions)) {\n            if (Object.hasOwnProperty.call(advancedOptions, 'disclose_me')) {\n                options.disclose_me = advancedOptions.disclose_me === true;\n            }\n\n            if (Object.hasOwnProperty.call(advancedOptions, 'progress_callback')) {\n                if (typeof advancedOptions.progress_callback === 'function') {\n                    options.receive_progress = true;\n                    callbacks.onProgress = advancedOptions.progress_callback;\n                } else {\n                    let error = new Errors.InvalidParamError('progress_callback');\n                    this._fillOpStatusByError(error);\n                    throw error;\n                }\n            }\n\n            if (Object.hasOwnProperty.call(advancedOptions, 'timeout')) {\n                if (typeof advancedOptions.timeout === 'number') {\n                    options.timeout = advancedOptions.timeout;\n                } else {\n                    let error = new Errors.InvalidParamError('timeout');\n                    this._fillOpStatusByError(error);\n                    throw error;\n                }\n            }\n\n            // Check and handle Payload PassThru Mode\n            // @see https://wamp-proto.org/wamp_latest_ietf.html#name-payload-passthru-mode\n            let pptScheme = advancedOptions.ppt_scheme;\n\n            if (pptScheme) {\n                if (!this._checkPPTOptions('dealer', advancedOptions)) {\n                    throw this._cache.opStatus.error;\n                }\n\n                options.ppt_scheme = pptScheme;\n\n                if (advancedOptions.ppt_serializer) {\n                    options.ppt_serializer = advancedOptions.ppt_serializer;\n                }\n                if (advancedOptions.ppt_cipher) {\n                    options.ppt_cipher = advancedOptions.ppt_cipher;\n                }\n                if (advancedOptions.ppt_keyid) {\n                    options.ppt_keyid = advancedOptions.ppt_keyid;\n                }\n            }\n        } else if (typeof (advancedOptions) !== 'undefined') {\n            let error = new Errors.InvalidParamError('advancedOptions');\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        do {\n            reqId = this._getReqId();\n        } while (reqId in this._calls);\n\n        this._calls[reqId] = callbacks;\n\n        // WAMP SPEC: [CALL, Request|id, Options|dict, Procedure|uri, (Arguments|list, ArgumentsKw|dict)]\n        msg = [WAMP_MSG_SPEC.CALL, reqId, options, topicURI];\n\n        if (payload !== null && typeof (payload) !== 'undefined') {\n            let res = this._packPPTPayload(payload, options);\n\n            if (res.err) {\n                throw this._cache.opStatus.error;\n            }\n            msg = msg.concat(res.payloadItems);\n        }\n\n        this._send(msg);\n        this._cache.opStatus = SUCCESS;\n        this._cache.opStatus.reqId = reqId;\n        return callbacks.promise;\n    }\n\n    /**\n     * RPC invocation cancelling\n     *\n     * @param {int} reqId RPC call request ID\n     * @param {object} [advancedOptions] - optional parameter. Must include any or all of the options:\n     *                          { mode: string|one of the possible modes:\n     *                                  \"skip\" | \"kill\" | \"killnowait\". Skip is default.\n     *                          }\n     *\n     * @returns {Boolean}\n     */\n    cancel (reqId, advancedOptions) {\n        const options = {};\n\n        if (!this._preReqChecks(null, 'dealer')) {\n            throw this._cache.opStatus.error;\n        }\n\n        if (!reqId || !this._calls[reqId]) {\n            let error = new Errors.NonExistRPCReqIdError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        if (this._isPlainObject(advancedOptions)) {\n            if (Object.hasOwnProperty.call(advancedOptions, 'mode')) {\n                if (/skip|kill|killnowait/.test(advancedOptions.mode)) {\n                    options.mode = advancedOptions.mode;\n                } else {\n                    let error = new Errors.InvalidParamError('mode');\n                    this._fillOpStatusByError(error);\n                    throw error;\n                }\n            }\n        } else if (typeof (advancedOptions) !== 'undefined') {\n            let error = new Errors.InvalidParamError('advancedOptions');\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        // WAMP SPEC: [CANCEL, CALL.Request|id, Options|dict]\n        this._send([WAMP_MSG_SPEC.CANCEL, reqId, options]);\n        this._cache.opStatus = SUCCESS;\n        this._cache.opStatus.reqId = reqId;\n\n        return true;\n    }\n\n    /**\n     * RPC registration for invocation\n     * @param {string} topicURI\n     * @param {function} rpc - rpc that will receive invocations\n     * @param {object} [advancedOptions] - optional parameter. Must include any or all of the options:\n     *                          {\n     *                              match: string matching policy (\"prefix\"|\"wildcard\")\n     *                              invoke: string invocation policy (\"single\"|\"roundrobin\"|\"random\"|\"first\"|\"last\")\n     *                          }\n     * @returns {Promise}\n     */\n    async register (topicURI, rpc, advancedOptions) {\n        let reqId, patternBased = false;\n        const options = {}, callbacks = getNewPromise();\n\n        if (this._isPlainObject(advancedOptions)) {\n            if (Object.hasOwnProperty.call(advancedOptions, 'match')) {\n                if (/prefix|wildcard/.test(advancedOptions.match)) {\n                    options.match = advancedOptions.match;\n                    patternBased = true;\n                } else {\n                    let error = new Errors.InvalidParamError('match');\n                    this._fillOpStatusByError(error);\n                    throw error;\n                }\n            }\n\n            if (Object.hasOwnProperty.call(advancedOptions, 'invoke')) {\n                if (/single|roundrobin|random|first|last/.test(advancedOptions.invoke)) {\n                    options.invoke = advancedOptions.invoke;\n                } else {\n                    let error = new Errors.InvalidParamError('invoke');\n                    this._fillOpStatusByError(error);\n                    throw error;\n                }\n            }\n\n        } else if (typeof (advancedOptions) !== 'undefined') {\n            let error = new Errors.InvalidParamError('advancedOptions');\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        // Need to be placed here as patternBased flag is determined above\n        if (!this._preReqChecks({ topic: topicURI, patternBased: patternBased, allowWAMP: false },\n            'dealer')) {\n            throw this._cache.opStatus.error;\n        }\n\n        if (typeof rpc === 'function') {\n            callbacks.rpc = rpc;\n        } else {\n            let error = new Errors.NoCallbackError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        if (!this._rpcRegs[topicURI] || !this._rpcRegs[topicURI].callbacks.length) {\n            // no such registration or processing unregistering\n\n            reqId = this._getReqId();\n\n            this._requests[reqId] = {\n                topic: topicURI,\n                callbacks\n            };\n\n            // WAMP SPEC: [REGISTER, Request|id, Options|dict, Procedure|uri]\n            this._send([WAMP_MSG_SPEC.REGISTER, reqId, options, topicURI]);\n            this._cache.opStatus = SUCCESS;\n            this._cache.opStatus.reqId = reqId;\n        } else {    // already have registration with such topicURI\n            let error = new Errors.RPCAlreadyRegisteredError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        return callbacks.promise;\n    }\n\n    /**\n     * RPC unregistration for invocation\n     * @param {string} topicURI\n     * @returns {Promise}\n     */\n    async unregister (topicURI) {\n        let reqId;\n        const callbacks = getNewPromise();\n\n        if (!this._preReqChecks({ topic: topicURI, patternBased: false, allowWAMP: false }, 'dealer')) {\n            throw this._cache.opStatus.error;        }\n\n        if (this._rpcRegs[topicURI]) {   // there is such registration\n\n            reqId = this._getReqId();\n\n            this._requests[reqId] = {\n                topic: topicURI,\n                callbacks\n            };\n\n            // WAMP SPEC: [UNREGISTER, Request|id, REGISTERED.Registration|id]\n            this._send([WAMP_MSG_SPEC.UNREGISTER, reqId, this._rpcRegs[topicURI].id]);\n            this._cache.opStatus = SUCCESS;\n            this._cache.opStatus.reqId = reqId;\n        } else {    // there is no registration with such topicURI\n            let error = new Errors.NonExistRPCUnregistrationError();\n            this._fillOpStatusByError(error);\n            throw error;\n        }\n\n        return callbacks.promise;\n    }\n}\n\nexport default Wampy;\nexport { Wampy, Errors };\n"],"mappings":"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"}